# 1. 软件版本与协作工具

## 1.1. 目录

<!-- TOC -->

- [1. 软件版本与协作工具](#1-软件版本与协作工具)
    - [1.1. 目录](#11-目录)
    - [1.2. 版本管理](#12-版本管理)
        - [1.2.1. 版本号含义](#121-版本号含义)
        - [1.2.2. 版本的发布规则](#122-版本的发布规则)
        - [1.2.3. 各个端之间版本的关系](#123-各个端之间版本的关系)
        - [1.2.4. 发版的步骤](#124-发版的步骤)
    - [1.3. 工具的使用](#13-工具的使用)
        - [1.3.1. git 代码协作](#131-git-代码协作)
            - [1.3.1.1. 合并分支](#1311-合并分支)
        - [1.3.2. 团队协作管理](#132-团队协作管理)
            - [1.3.2.1. 需求](#1321-需求)
            - [1.3.2.2. 缺陷(BUG)](#1322-缺陷bug)
            - [1.3.2.3. 迭代(开发与上线计划)](#1323-迭代开发与上线计划)
            - [1.3.2.4. 测试](#1324-测试)

<!-- /TOC -->

## 1.2. 版本管理



### 1.2.1. 版本号含义

例子:

```md
## 0.7.0

发布时间:2019-06-17

修改:
1. 商品会员价异常.
2. 退货入库异常.
3. 新增分销员提现模块
```

第一位则为大版本的版本号(新零售系统可以作为平台运营才会作为1,目前都是0).第二位数字则为中等版本修改,一般为重要模块与功能添加后才作变更.第三位数字则为bug修复,小功能修改与业务变更.</br>

### 1.2.2. 版本的发布规则

每次进行正式服务器版本发布都为一个版本.不论版本大小,都要为版本更新,并记录到版本记录日志.</br>

小版本在 master 上添加标签记录.中版本与大版本变更则直接添加分支并记录标签

### 1.2.3. 各个端之间版本的关系

需在各自维护与服务器接口版本之间关系,在markdow文档下记录当前版本号需要的服务器版本号.</br>

例子:

```md
## 0.12.18

发布时间:2019-06-17

接口版本号:0.7.0+

修改:
1. 修复主页加载问题.
2. 优化登录微信.
3. 商品价格修改
```
> 如需后端配合修改的一律需确认后端版本号后,再作记录.如只是页面优化而不需要后端配合,则只需要沿用上个后台版本号即可.

### 1.2.4. 发版的步骤

开发确定=>测试确定=>负责人确定=>发布

需要完成的事项:</br>
1. 完成所有测试.
2. 版本记录书写完毕.

## 1.3. 工具的使用

下面是我们主要使用的管理工具.

### 1.3.1. git 代码协作

我们主要使用git作为我们的代码协作工具.</br>

在敏捷开发中,我们往往会遇到同时修复bug与开发新功能同时进行.在这时我们就可以使用git的分支功能.</br>

1. fixingbug 分支,专门用于修复bug.

2. mini 分支,专门用于快速迭代功能时间节点可以根据自身情况定,我们团队一般用于1周开发时间的小功能.

3. big 分支,专门用于大功能开发.开发时间较长,在大分支下还可以添加子分支,因为大功能开发也会有时间的差,譬如a功能需要开发3周,b功能需要开发2个月,则可以在big分支的情况下添加big-team1子分支

#### 1.3.1.1. 合并分支

1. master 为发布主线,任何版本发布正式版前都必须合并到master后发布.</br>

2. 发布测试服务器,则需先切换分支到较长时间的分支下,再合并自己进行开发中的分支,再进行发布.

如操作步骤如下图:</br>

![img](D:\GitHub\doc\公司管理\img\git_branch.png?raw=true)


### 1.3.2. 团队协作管理

Teambition 是团队协作软件,我们主要使用了敏捷开发模块.里面包含了需求,缺陷(BUG),迭代,测试计划.

[Teambition 官网地址](https://www.teambition.com/)

#### 1.3.2.1. 需求

需求有3个等级

1. 普通-较为次要的功能开发.

2. 紧急-较为重要的功能开发.

3. 非常紧急-需立刻定制开发计划并且执行的功能开发.

每个需求都由统一的人员整理,每周召开需求确定例会确定.如有紧急以上的需求,则立即召开需求会议.

#### 1.3.2.2. 缺陷(BUG)

缺陷有3个等级

1. 普通-情况并不紧急.多数为样式调整-提示错误

2. 紧急-情况较紧急.影响运营

3. 非常紧急-必须马上解决,如功能失效,数据异常.

缺陷也由统一人员整理.普通级别缺陷,可每周统一完成修改.紧急与非常紧急的缺陷,则由项目负责人安排人员进行修改.

#### 1.3.2.3. 迭代(开发与上线计划)

迭代是从开发到发布的一个生命周期的管理.各个需求与BUG的负责人需要给出合理的开发时间,由项目经理(或负责人),制定迭代计划.

1. 每周迭代,每周固定周二进行例行迭代,对小BUG与需求作统一的发布.
2. 紧急迭代,紧急需求与bug修复,时间不限.
3. 长周期开发计划.大模块的迭代计划,周期多为月以上.

> 注意: 迭代计划需要与git 分支结合使用.如果当前有紧急任务添加进来,需要切换到合适分支下开发.让紧急任务能最优先发布.

#### 1.3.2.4. 测试

1. 每个功能开发都要写测试用例,业务修改后也要对相应的用例进行修改.

2. 版本迭代前要完成测试计划.

