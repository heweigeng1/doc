# Task与async&wait
## Task
> Task是基于Thread的封装,并管理Thread.
### 开始使用
1.  基础的使用方式,使用new 来创建实例
方法1
```c#
public void Test4()
{
    Task task = new Task(() =>
    {
        Console.WriteLine("其实这个Task的构造函数参数是一个action");
    });
    task.Start();
}
```
方法2
```c#
public void Test2(Action action,int count)
{
    for (int i = 0; i < count; i++)
    {
        Task task = new Task(action);
        task.Start();
    }
}
```
> 函数里的参数是一个委托,和需要的线程数.      
> 下面的代码是如何调用这个函数.注意**tsclass.B**是tsclass类的一个无参数函数.详情请查看github上面的代码
```c#
public void Demo()
{
    TaskTest.Test2(tsclass.B, 10);
}
```
2.  使用Task.Factory.StartNew工厂类创建
```c#
public void Test(Action action, int count)
{
    for (int i = 0; i < count; i++)
    {
        Task.Factory.StartNew(action);
    }
}
```
> 使用StartNew默认就会开启线程,不需要Start.
### Task的任务控制