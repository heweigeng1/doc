# 开发编解码插件

NB-IoT 设备和中国电信物联网开放平台之间采用 CoAP 协议通讯，CoAP 消息的数为应用层数据，应用层数据的格式由设备厂商自行定义。由于 NB-IoT 设备对省电要求通常较高，所以应用层数据一般采用二进制格式。应用层数据在中国电信物联网开放平台做协议解析时，会转换成统一的 json 格式，以方便应用服务器使用。要实现二进制消息与 json 格式消息的转换功能，中国电信物联网开放平台需要使用设备厂商提供的编解码插件。一款设备对应一个编解码插件

开发编解码插件的两种方式

* 开发者 Portal 在线插件开发
    [指导视频](http://www.tianyiiot.com/downloadZone/downloadZones.html)
    >此方式实现了无码化的开发，开发复杂度低；适用于二进制消息和 json 格式消息不需经过计算，直接相互转换的场景；但并不适用于二进制消息和 json 格式消息需要计算后再转换的场景

在线开发的步骤大致如下:
    登录开发者portal->插件开发->插件开发（子菜单）->开始设计->新建插件->选择Profile（请等待 profile 加载完成后再选择对应 profile）->点击确定

* 离线完成插件开发
    >使用 Java 语言开发，开发复杂度相对方式一更高，适用于全部场景

编解码插件开发可参考[中国电信物联网开放平台编解码库开发与升级指南](http://www.tianyiiot.com/statics/shtml/y29odry3sck27lp.html)文档，文档详细介绍了需要实现的 4 个接口，同时附带了样例代码